"use client";

import { useState, useEffect, useRef } from "react";
import { Title } from "@/components/title";
import { Text } from "@/components/text";
import { fetchPodcasts } from "../actions";
import { get } from "http";
import "./styles.css";
import PrimaryButton from "@/components/primarybutton";
import { fetchCollectionPodcast, countCollectionPodcast } from "../actions";

export default function Home() {
  const [loading, setLoading] = useState(true);
  const collectionModel = {
    id: "",
    name: "",
    description: "",
    image: "",
    number: 0,
    createdAt: "",
    updatedAt: "",
  };

  const episodeModel = {
    id: "",
    podcast_id: "",
    title: "",
    content: "",
    logo: "",
    media_url: "",
    player_url: "",
    permalink_url: "",
    publish_time: "",
    status: "",
    type: "",
    duration: 0,
    season_number: "",
    episode_number: "",
    month: "",
    year: "",
  };
  const monthNames = [
    "Janvier",
    "Février",
    "Mars",
    "Avril",
    "Mai",
    "Juin",
    "Juillet",
    "Août",
    "Septembre",
    "Octobre",
    "Novembre",
    "Décembre",
  ];

  const [allCollections, setAllCollections] = useState([collectionModel]);
  const [lastEpisode, setLastEpisode] = useState(episodeModel);
  const [slideIndex, setSlideIndex] = useState(0);
  const [slidePostion, setSlidePosition] = useState("before");
  const [nbCollection, setNbCollection] = useState(0);
  const [lastCollection, setLastCollection] = useState(collectionModel);
  const [nbEpisodesLastCollection, setNbEpisodesLastCollection] = useState(0);
  const [LastDescr, setLastDescr] = useState("");
  const [expandText, setExpandText] = useState(false);

  const getAllCollections = () => {
    fetch(`/api/collection?all=true`).then((res) =>
      res.json().then((data) => {
        setAllCollections(data);
        setNbCollection(data.length);
        setLastCollection(data[0]);
        console.log(data);
        getLastEpisode(data[data.length - 1].number);
      })
    );
  };

const descr = "Noah n'a jamais connu sa grand-mère, une femme tourmentée par ses démons, disparue de sa vie depuis longtemps. Lorsque sa mère, Marie, lui annonce son décès, Noah est chargée de vider son appartement à Yverdon-les-bains. Plongée dans les souvenirs de ces deux femmes, elle découvre un secret profondément enfoui qui pourrait éclairer les zones d'ombre de leur histoire familiale. Entre révélations et quête d'identité, Noah doit affronter un passé douloureux pour comprendre et accepter ses racines."

function getNbwords(text: string) {
  console.log("text length")
  console.log(text.length); 
  const min = text.slice(0, 200) + "...";
setLastDescr(min);
}


  function getMonthYear(date: string) {
    const dateObj = new Date(date);
    return `${monthNames[dateObj.getMonth()]} ${dateObj.getFullYear()}`;
  }

  function getLastEpisode(number: number) {
    fetchCollectionPodcast(number).then((episodesData) => {
      episodesData.forEach((episode: any, index: number) => {
        if (episode.status === "draft") {
          episodesData.splice(index, 1);
        }
      });
      setNbEpisodesLastCollection(episodesData.length);
      setLastEpisode(episodesData[episodesData.length - 1]);
      setLoading(false);
      //console.log("last episode", episodesData[episodesData.length - 1])
    });
  }

  function renderCollections() {
    return allCollections.map((collection, i) => {
      return (
        <li
          key={i}
          className={`slide animate slide-${i} ${
            slideIndex - i != 0 ? (slideIndex>i ? ("before") : ("after")) : "active"
          } flex justify-center`}
        >
          <img src={`/illustrations/${collection.image}`} />
          <h1 className="text-center my-3">{collection.name}</h1>
          <a
            className="flex justify-center"
            href={`/series/${allCollections[allCollections.length - 1].id}`}
          >
            <PrimaryButton type="button">Ecouter</PrimaryButton>
          </a>
        </li>
      );
    });
  }

  //Carousel

  function prev() {
    setSlideIndex(slideIndex - 1);
  } 

  function next() {
setSlideIndex(slideIndex + 1);
  }
  const secondsToMinutes = (seconds: number) => {
    return new Date(seconds * 1000).getMinutes();
  };

  useEffect(() => {
    getAllCollections();
  }, []);

  return (
    <>
      {loading ? (
        <div className="w-full min-h-screen flex justify-center items-center">
          <img
            className="w-64 h-64"
            src="/loader/loader.gif"
            alt="Chargement..."
          />
        </div>
      ) : (
        <div>
          <div className="p-4 mb-7 md:px-60 xl:px-80 2xl:px-96">
            <Title type="h1">PODCAST</Title>

            <Title type="h2">On the way</Title>
            <div className="md:flex">
              <img
                src="/logo/on-the-way.png"
                alt="podcast"
                className="md:w-1/2"
              />
              <div className="md:flex md:items-center md:w-1/2">
                <p className="text-base text-gray-900 dark:text-white">
                  Explorez notre site web dédié au podcast On the Way, portail
                  vers des aventures épiques! Chaque épisode inédit de séries
                  est à écouter lors de vos trajets et vous embarque dans un
                  univers captivant !
                </p>
              </div>
            </div>
          </div>
          <div className="bg-[#B5D4C034] mb-7 md:px-60 xl:px-80 2xl:px-96">
            <div className="flex justify-end">
              <div className="bg-[#1C8D70] w-fit p-2 rounded-l-xl text-white -translate-y-3 md:rounded-xl ">
                Nouvel épisode
              </div>
            </div>
            <div className="p-4">
              <Title type="h2">Les ombres du passé</Title>
              <p className="text-base text-gray-900 dark:text-white">
                Venez découvrir le nouvel épisode de notre série Les ombres du
                passé !
              </p>
              <div className="mb-4 flex justify-center pt-6 ">
                <a
                  href={`/series/${lastCollection.id}/episodes?id=${lastEpisode.episode_number}`}
                  className="flex items-center w-full bg-white border border-gray-200 rounded-lg shadow flex-row md:max-w-xl hover:bg-gray-100 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-700"
                >
                  <img
                    className="object-cover h-full w-1/3 rounded-none rounded-s-lg"
                    src={lastEpisode.logo}
                    alt="Pochette épisode"
                  />
                  <div className="w-full flexflex-col justify-between p-4 leading-normal">
                    <h5 className="mb-2 text-l text-left font-bold tracking-tight text-gray-900 dark:text-white">
                      {lastEpisode.title}
                    </h5>
                    <div className="w-full flex justify-between">
                      <p className="text-gray-400">
                        Série {lastEpisode.season_number}, Épisode{" "}
                        {lastEpisode.episode_number}
                      </p>
                      <p className="text-right text-gray-400">
                        {secondsToMinutes(lastEpisode.duration)}min
                      </p>
                    </div>
                  </div>
                </a>
              </div>
            </div>
          </div>
          <div className="p-4 md:px-40 xl:px-60 2xl:px-90">
            <div className="text-center my-3 text-[#1C8D70] mb-0">
              La série du moment
            </div>
            <Title type="h2">{lastCollection.name}</Title>
            <p className="text-base text-gray-900 dark:text-white">{ expandText ? (lastCollection.description.slice(0, 300)) : (lastCollection.description)  } {lastCollection.description.length > 300 ? (<a className="text-[#1C8D70] cursor-pointer" onClick={()=>setExpandText(!expandText)}>{expandText ? ("...Voir plus") : ("Voir moins")}</a>) : ("")} </p>
            <div className="flex justify-center mt-7">
              <a
                href={`/series/${lastCollection.id}`}   
                className="flex items-center flex-col"
              >
                <img
                  className="max-w-60 h-auto "
                  src={`/illustrations/${lastCollection.image}`}
                  alt=""
                />
                <h1 className="text-center mt-3">{lastCollection.name}</h1>
                <p className="text-center text-[#1C8D70] text-sm">{`${lastEpisode.episode_number} épisodes`}</p>
                <p className="text-center text-gray-400 text-sm">
                  Réalisé par On the way
                </p>
                <p className="text-center text-gray-400 text-sm">
                  {getMonthYear(lastCollection.createdAt)}
                </p>
                <p className="text-center mt-6  ">
                  Retrouvez-la tous les lundis à 7h30 !
                </p>
              </a>
            </div>
          </div>

          <div className="bg-[#B5D4C034] p-4 my-8 md:px-60 xl:px-80 2xl:px-96 ">
            <Title type="h2">Nos séries</Title>
            <div className="carousel-container">  
              <ul className="animate">{renderCollections()}</ul>
              <div id="controls">
                <span className={`prev ${slideIndex==0 ? ("hidden") :("")}`} onClick={prev} >
                  <svg
                    width="23"
                    height="33"
                    viewBox="0 0 23 33"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M21.0614 32.1318C21.3609 31.8583 21.599 31.5335 21.7619 31.176C21.9248 30.8184 22.0094 30.4351 22.0108 30.048C22.0123 29.6609 21.9305 29.2777 21.7702 28.9201C21.6099 28.5626 21.3742 28.2378 21.0767 27.9643L8.62321 16.4965L21.1609 5.02873C21.765 4.4761 22.1061 3.72657 22.109 2.94502C22.1118 2.16348 21.7763 1.41394 21.1762 0.861308C20.576 0.308673 19.7605 -0.00178786 18.9089 -0.00178779C18.0573 -0.00178771 17.2394 0.308673 16.6352 0.861309L1.80334 14.4276C1.50379 14.701 1.26573 15.0258 1.10281 15.3834C0.939889 15.7409 0.855298 16.1242 0.853878 16.5113C0.852457 16.8984 0.934233 17.2817 1.09453 17.6392C1.25483 17.9968 1.4905 18.3216 1.78804 18.595L16.5204 32.1613C17.74 33.2844 19.8011 33.2844 21.0614 32.1318Z"
                      fill="#90B39C"
                    />
                  </svg>
                </span>
                <span className={`next flex flex-row-reverse ${slideIndex==nbCollection-1 ? ("hidden") :("")}`} onClick={next}>
                  <svg
                    width="23"
                    height="34"
                    viewBox="0 0 23 34"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M1.93534 0.875228C1.63474 1.14641 1.39544 1.46939 1.23115 1.82571C1.06686 2.18202 0.980802 2.56466 0.977905 2.95172C0.975008 3.33878 1.05533 3.72266 1.21426 4.08139C1.3732 4.44012 1.60764 4.76666 1.90415 5.04231L14.3142 16.6027L1.73248 27.976C1.12617 28.5241 0.782258 29.271 0.776408 30.0525C0.770559 30.834 1.10325 31.586 1.70129 32.1431C2.29933 32.7002 3.11374 33.0167 3.96534 33.0231C4.81695 33.0295 5.636 32.7252 6.24232 32.1771L21.1264 18.7226C21.427 18.4514 21.6663 18.1284 21.8305 17.7721C21.9948 17.4158 22.0809 17.0331 22.0838 16.6461C22.0867 16.259 22.0064 15.8751 21.8474 15.5164C21.6885 15.1577 21.4541 14.8311 21.1575 14.5555L6.47659 0.879665C5.26118 -0.252538 3.2 -0.267967 1.93534 0.875228Z"
                      fill="#90B39C"
                    />
                  </svg>
                </span>
              </div>
            </div>
          </div>

          <div className="my-8 p-4 flex justify-center flex-col md:px-60 xl:px-80 2xl:px-96">
            <Title type="h2">À propos de nous </Title>
            <p className="text-base text-gray-900 dark:text-white">
              Vous vous trouvez sur le site dédié au podcast On The Way qui a
              pour objectif de vous faire découvrir la ville
              d'Yverdon-les-Bains. Venez donc découvrir les lieux de la ville,
              son histoire, ses événements et plus encore à travers une histoire
              fictive de 5 épisodes
            </p>
            <div className="flex justify-center">
              <img
                className="max-w-60 h-auto mt-6"
                src="/logo/pochette.jpg"
              ></img>
            </div>
            <h1 className="text-center mt-3">On the way</h1>
            <p className="text-center text-gray-400 text-sm">
              Chaque lundi à 7h30
            </p>
          </div>
          <div className="bg-[#B5D4C034] mb-7 py-8">
            <Title type="h1">Où nous écouter</Title>
            <div className="flex justify-center">
              <svg
                width="361"
                height="65"
                viewBox="0 0 361 65"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <a href="#" target="_blank">
                <path
                  d="M28.3471 0.251278C16.3525 1.80183 6.14667 9.95439 1.92317 21.3388C0.507865 25.105 0.0261404 28.0193 0 32.5626C0 39.5382 1.68417 45.0978 5.60893 51.0011C7.21468 53.4073 11.0872 57.3901 13.5182 59.1014C17.1255 61.6383 21.883 63.6447 26.719 64.6609C28.8027 65.113 35.8568 65.113 38.0488 64.6609C44.9162 63.2972 50.6596 60.3044 55.335 55.6789C62.3368 48.7332 65.862 38.9516 64.8201 29.3307C63.9911 21.7124 60.7609 14.9236 55.4432 9.58076C48.3331 2.49678 38.2094 -1.00411 28.3471 0.251278ZM38.2094 16.5003C45.4502 17.8641 51.7799 20.6962 57.232 25.0265C58.9684 26.4164 59.4502 27.6718 58.834 29.1439C58.3261 30.3731 57.3403 31.0382 56.0034 31.012C55.1221 30.9859 54.5321 30.6646 52.4483 29.114C48.363 26.0166 43.5532 23.8757 37.8883 22.6204C35.6962 22.1421 34.3594 22.0338 29.7923 22.0338C23.5112 22.0076 20.6806 22.4335 15.1762 24.2531C12.663 25.0788 11.89 25.2395 11.1133 25.0527C9.78015 24.7612 8.95113 23.6628 8.95113 22.1944C8.95113 20.3487 9.993 19.4931 13.6526 18.3199C16.7782 17.3036 20.8412 16.4219 24.1796 15.9922C27.4135 15.6186 34.8411 15.8876 38.2094 16.5003ZM35.1361 27.9147C39.8899 28.7404 44.4607 30.6123 48.7364 33.4705C52.101 35.716 52.635 36.3026 52.635 37.7747C52.635 39.1384 51.8359 40.1809 50.6073 40.4461C49.6962 40.6591 48.897 40.2593 45.9282 38.2006C43.2059 36.3026 39.4903 34.569 36.2825 33.7134C33.9075 33.0446 33.2391 32.9923 28.7243 32.9923C23.3805 32.9923 21.054 33.3659 17.3683 34.8342C14.3733 36.0373 12.5585 35.4769 12.2373 33.2052C12.0245 31.5725 12.9058 30.6907 15.8447 29.6221C22.0175 27.3766 28.7504 26.79 35.1361 27.9147ZM34.7627 40.689C38.7173 41.5147 42.5375 43.2782 45.8498 45.8189C46.705 46.4615 47.4257 47.2611 47.534 47.6347C47.7468 48.4903 47.3211 49.5589 46.6527 49.9064C45.6892 50.4407 44.8864 50.2015 43.2843 48.9985C41.04 47.2873 37.2983 45.4976 34.6021 44.8549C30.3263 43.8424 24.0751 44.2945 20.3594 45.8974C18.7313 46.5923 18.2757 46.5923 17.3944 45.8974C16.8604 45.4714 16.6998 45.1239 16.6998 44.2945C16.6998 43.3866 16.8343 43.1736 17.5811 42.7178C18.7836 41.9444 22.2826 40.902 25.1169 40.4461C27.8953 39.994 31.9843 40.0987 34.7627 40.689Z"
                  fill="#1C8D70"
                />
                </a>
                <a href="https://podcasts.apple.com/us/podcast/on-the-way/id1740082304" target="_blank">
                <path
                  d="M128.643 0.0815068C128.27 0.137455 127.068 0.323949 125.974 0.484333C123.648 0.831212 119.217 2.21873 117.134 3.25936C107.839 7.92544 101.135 16.8622 99.3987 26.8434C98.8089 30.148 98.891 35.672 99.5293 38.9021C102.254 52.2401 112.565 62.2996 125.892 64.6196C128.804 65.1268 134.332 65.1268 137.244 64.6196C150.549 62.2996 161.259 51.5202 163.663 38.074C164.17 35.2468 164.088 28.8687 163.528 26.2018C160.699 13.1025 150.575 3.06914 137.673 0.58877C135.456 0.163564 129.927 -0.157205 128.643 0.0815068ZM134.788 11.6889C142.321 12.8899 148.783 18.0371 151.616 25.109C155.704 35.2729 151.295 46.9586 141.601 51.7589C138.502 53.2807 138.528 53.2807 138.528 51.6247V50.211L140.611 49.1443C143.363 47.7307 146.834 44.3178 148.197 41.6734C150.306 37.5929 150.896 32.7627 149.772 28.4435C147.637 20.1184 140.104 14.2476 131.581 14.2476C123.01 14.2476 115.798 19.6932 113.233 28.0705C112.886 29.2417 112.752 30.5509 112.752 33.0051C112.752 35.9666 112.834 36.6045 113.528 38.6857C115.077 43.4376 118.814 47.6524 123.141 49.5732L124.373 50.1066V51.5463C124.373 52.3483 124.291 53.0122 124.186 53.0122C124.078 53.0122 122.902 52.4788 121.565 51.841C115.902 49.0399 111.979 44.2097 110.456 38.074C109.653 34.8999 109.814 29.5886 110.829 26.4667C111.923 23.1583 113.659 20.4131 116.466 17.6641C118.549 15.5829 119.296 15.0495 121.726 13.8224C126.052 11.6889 130.379 10.969 134.788 11.6889ZM134.788 19.4246C139.622 20.5473 144.135 25.1351 145.177 30.0175C145.871 33.2699 145.367 36.8469 143.788 39.7823C142.989 41.3004 140.13 44.4782 139.596 44.4782C139.435 44.4782 139.327 43.7845 139.327 42.8744C139.327 41.4346 139.435 41.14 140.372 39.9129C143.844 35.3251 143.471 29.4841 139.435 25.2395C134.467 20.0662 125.866 20.9725 122.021 27.0821C120.711 29.1634 120.285 30.8716 120.419 33.6467C120.524 36.3396 121.192 38.1262 122.741 40.0471C123.462 40.9535 123.57 41.2743 123.57 42.7961C123.57 44.344 123.518 44.4782 123.088 44.2358C122.85 44.1015 121.995 43.3294 121.244 42.5275C114.995 35.9405 116.813 25.053 124.85 20.7861C125.735 20.3049 127.068 19.7715 127.87 19.5589C129.58 19.1039 133.078 19.0255 134.788 19.4246ZM133.104 26.2018C135.243 26.8434 136.927 29.0813 136.927 31.2707C136.927 34.5791 133.477 37.2721 130.301 36.4739C127.71 35.8324 126.239 33.9115 126.239 31.2185C126.239 28.7344 127.471 27.056 129.875 26.2018C131.208 25.7207 131.477 25.7207 133.104 26.2018ZM134.28 38.6857C136.285 40.021 137.113 42.5275 136.819 46.2089C136.445 50.7743 134.762 56.2161 133.16 58.137C131.103 60.6435 128.938 58.428 127.15 51.9454C126.213 48.5587 125.948 43.3294 126.616 41.3563C127.389 39.0326 128.778 38.1001 131.477 38.074C133.026 38.074 133.533 38.1785 134.28 38.6857Z"
                  fill="#1C8D70"
                />
                </a>
                <a href="https://www.deezer.com/fr/show/1000872291" target="_blank">
                <path
                  d="M223.808 0.39201C219.15 1.21927 213.558 3.61533 209.994 6.33559C207.65 8.09444 204.004 11.9326 202.486 14.2243C198.918 19.635 197.296 24.6731 197.028 31.1496C196.816 37.1751 197.802 41.9188 200.354 47.009C202.032 50.3665 203.364 52.2334 206.054 55.0319C212.442 61.6425 220.348 65 229.586 65C236.268 65 241.938 63.2672 247.582 59.511C259.053 51.8608 264.407 37.8384 260.973 24.3005C257.829 11.8804 247.021 2.15086 234.296 0.25786C231.714 -0.140862 226.282 -0.0626088 223.808 0.39201ZM248.859 13.6915V16.2254H240.074V11.1575H248.859V13.6915ZM227.826 20.6225V23.1527H219.042V18.0886H227.826V20.6225ZM248.859 20.6225V23.1527H240.074V18.0886H248.859V20.6225ZM227.826 27.8182V30.3484H219.042V25.2842H227.826V27.8182ZM238.478 27.8182V30.3484H229.69V25.2842H238.478V27.8182ZM248.859 27.8182V30.3484H240.074V25.2842H248.859V27.8182ZM217.394 34.8014L217.472 37.2794H208.662V32.2153L213 32.2675L217.312 32.3494L217.394 34.8014ZM227.826 34.7492V37.2794H219.042V32.2153H227.826V34.7492ZM238.423 34.8014L238.504 37.2794H229.69V32.2153L234.032 32.2675L238.344 32.3494L238.423 34.8014ZM248.859 34.7492V37.2794H240.074V32.2153H248.859V34.7492ZM215.85 45.2763V50.3404H215.05C214.518 50.3404 214.25 50.2063 214.25 49.9417C214.25 49.5132 213.826 49.4088 213.614 49.7815C213.372 50.1802 211.962 50.3143 211.002 50.0758C209.06 49.5132 208.13 47.3034 209.008 45.2241C209.674 43.6255 211.694 42.9845 213.532 43.782C213.934 43.972 213.986 43.8118 213.986 42.1051V40.2121H215.85V45.2763ZM222.156 44.2627C222.636 44.7434 222.848 45.2763 222.878 45.9694L222.904 47.009L220.586 47.0873C219.284 47.1171 218.246 47.2736 218.246 47.4078C218.246 47.9145 219.31 48.7418 219.976 48.7418C220.348 48.7418 220.88 48.4996 221.2 48.1828C221.68 47.7021 221.866 47.6761 222.398 47.9145C223.194 48.2611 223.194 48.6076 222.424 49.3827C221.04 50.7652 218.112 50.4187 216.992 48.7679C215.902 47.1432 216.356 44.6912 217.926 43.8118C219.042 43.1709 221.304 43.4093 222.156 44.2627ZM228.332 43.782C229.158 44.2366 229.69 45.2241 229.69 46.342V47.1432H227.428C225.058 47.1432 224.768 47.3295 225.62 48.2611C226.178 48.902 227.242 48.8759 227.96 48.2089C228.44 47.7543 228.678 47.7021 229.266 47.9406C229.85 48.1568 229.932 48.2872 229.72 48.6896C228.678 50.6348 225.512 50.795 223.994 48.9803C222.662 47.4078 223.25 44.3968 225.006 43.6776C225.884 43.305 227.51 43.3833 228.332 43.782ZM236.082 44.1285C236.082 44.6614 235.628 45.3284 234.296 46.6625L232.514 48.4735H236.082V50.3404H229.958V49.4871C229.958 48.7679 230.278 48.2872 231.74 46.8227L233.526 45.008H230.222V43.4093H236.082V44.1285ZM242.124 44.3186C242.549 44.7956 242.735 45.3843 242.735 46.1035V47.1432H240.473C238.69 47.1432 238.21 47.2214 238.21 47.5158C238.21 48.0487 239.248 48.7418 239.993 48.7418C240.313 48.7418 240.819 48.4996 241.086 48.2089C241.511 47.7543 241.723 47.7021 242.31 47.9145C243.189 48.2611 243.189 48.6076 242.31 49.4088C241.432 50.2323 240.208 50.4746 238.824 50.1019C237.385 49.6995 236.588 48.7679 236.428 47.3034C236.134 44.7695 237.518 43.305 240.048 43.4913C241.22 43.5696 241.618 43.7298 242.124 44.3186ZM245.399 43.6776C245.399 43.864 245.559 43.864 245.905 43.6776C247.315 42.9324 248.859 43.7298 248.859 45.1682C248.859 45.9955 248.78 46.0774 248.115 46.0774C247.553 46.0774 247.263 45.8911 247.047 45.4104C246.73 44.7173 246.515 44.6353 245.823 44.9036C245.477 45.0378 245.399 45.5446 245.399 47.7021V50.3404H243.535V43.4093H244.465C244.971 43.4093 245.399 43.5435 245.399 43.6776Z"
                  fill="#1C8D70"
                />
                </a>
                <a href="https://music.amazon.com/podcasts/005dac1b-4b90-4726-8b2c-458094cf3e39" target="_blank">
                <path
                  d="M326.017 0.0750216C316.592 1.09228 308.668 5.28287 303.116 12.2213C292.572 25.3807 293.877 44.4086 306.158 56.101C312.671 62.318 321.025 65.39 330.154 64.9604C351.243 63.9472 365.685 43.4481 359.597 23.1355C356.714 13.502 349.028 5.35988 339.551 1.94336C335.812 0.609992 329.432 -0.269466 326.017 0.0750216ZM342.434 21.0037C342.888 21.8832 342.325 22.6572 341.286 22.5519C340.617 22.4951 340.406 22.3371 340.35 21.8548C340.192 20.87 340.484 20.4687 341.339 20.4687C341.875 20.4687 342.248 20.6552 342.434 21.0037ZM311.628 24.8174L312.322 25.4334L313.551 24.8174C314.273 24.4445 315.234 24.2054 315.927 24.2054C318.515 24.2054 318.945 25.0849 318.945 30.4791V34.3455H317.128L317.022 30.5318C316.97 27.78 316.836 26.552 316.568 26.2602C316.114 25.7009 314.698 25.6725 313.47 26.1791L312.537 26.5804V34.3455H310.667V30.7993C310.667 26.633 310.456 25.9684 309.065 25.859C308.534 25.8063 307.678 25.9684 307.119 26.2075L306.129 26.6087V34.3455H304.264V24.4729H305.034C305.464 24.4729 305.866 24.631 305.971 24.8741C306.076 25.1943 306.263 25.1943 307.253 24.7404C308.879 23.9906 310.72 24.0433 311.628 24.8174ZM337.47 24.4729C337.949 24.631 338.164 24.9268 338.164 25.3524C338.164 25.9927 338.135 25.9927 336.294 25.859C335.013 25.7779 334.319 25.8346 334.023 26.0738C333.009 26.9005 333.97 28.1002 336.266 28.8742C338.002 29.4376 338.776 30.2887 338.748 31.6504C338.723 33.7052 337.442 34.613 334.639 34.613C332.689 34.613 331.651 34.1875 331.541 33.3607C331.464 32.773 331.488 32.773 333.545 32.9311C335.974 33.1216 336.829 32.8257 336.829 31.8125C336.829 31.0627 336.108 30.5035 334.372 29.9158C331.756 29.0607 330.957 26.8195 332.664 25.1132C333.492 24.2865 333.703 24.2054 335.171 24.2054C336.079 24.2054 337.093 24.3108 337.47 24.4729ZM350.975 24.4445C351.454 24.5783 351.669 24.8458 351.721 25.3524L351.802 26.0981L350.119 25.9116C348.651 25.7779 348.359 25.8346 347.719 26.3129C346.222 27.5166 345.983 30.8236 347.345 32.157C347.986 32.8257 348.226 32.8784 349.933 32.8257L351.802 32.773L351.721 33.4944C351.644 34.2928 351.028 34.536 349.106 34.5887C347.37 34.613 345.691 33.7052 344.997 32.3475C344.328 31.0101 344.275 27.9664 344.888 26.7425C345.423 25.7536 346.356 24.8458 347.24 24.4972C347.986 24.2054 349.986 24.177 350.975 24.4445ZM323.215 27.9948C323.215 32.2137 323.426 32.8541 324.87 32.9595C325.401 33.0121 326.257 32.8541 326.792 32.6393L327.725 32.2381L327.806 28.4203L327.887 24.6066H329.753V34.2158L329.112 34.2928C328.714 34.3455 328.313 34.2158 328.126 33.9483C327.83 33.5471 327.725 33.5471 326.711 34.0537C325.162 34.8562 323.215 34.7994 322.226 33.9727L321.479 33.3323L321.398 29.2755C321.345 27.0626 321.374 25.0606 321.451 24.8458C321.532 24.631 321.958 24.4729 322.412 24.4729H323.215V27.9948ZM342.3 29.4092V34.2158L341.526 34.2928C341.1 34.3455 340.67 34.2401 340.536 34.0253C340.273 33.6282 340.216 25.5388 340.459 24.8741C340.593 24.5783 340.885 24.4729 341.473 24.5256L342.3 24.6066V29.4092ZM352.151 38.3497C352.764 38.5645 352.845 38.7509 352.845 39.8209C352.845 41.365 351.965 43.9831 350.947 45.4786C350.148 46.6255 349.239 47.3185 349.028 46.97C348.947 46.8403 349.239 45.7461 349.665 44.4897C351.109 40.218 350.813 39.7925 346.518 40.0316C344.381 40.1653 343.768 40.1127 343.768 39.8452C343.768 38.6455 349.986 37.5229 352.151 38.3497ZM307.143 40.3518C314.751 44.1695 323.669 45.9852 331.728 45.3165C337.069 44.8909 344.113 43.2901 346.786 41.8999C347.613 41.4744 348.574 41.6608 348.574 42.2485C348.574 43.0753 344.17 45.6123 340.406 46.97C336.452 48.3885 333.358 48.8951 328.284 48.8951C322.015 48.8951 318.089 48.0683 312.565 45.5313C308.721 43.744 303.408 39.8979 303.834 39.2048C303.943 39.0184 304.077 38.8847 304.13 38.8847C304.183 38.8847 305.545 39.5534 307.143 40.3518Z"
                  fill="#1C8D70"
                />
                </a>
              </svg>
            </div>
          </div>
          <div className="py-8">
            <Title type="h1">Avec le soutien de</Title>
            <div className="flex justify-center">
              <a
                href="https://www.yverdon-les-bains.ch/accueil"
                target="_blank"
              >
                <svg
                  width="264"
                  height="61"
                  viewBox="0 0 264 61"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g clipPath="url(#clip0_651_1226)">
                    <path
                      fillRule="evenodd"
                      clipRule="evenodd"
                      d="M128.898 32.0833C128.898 30.3333 129.475 28.5 131.423 28.5C131.784 28.5 132.216 28.75 132.361 28.75V25.8333H131.784C130.413 25.8333 129.259 26.75 128.682 28.0833V26.0833H126.157V37.3333H128.898V32.0833ZM137.049 37.4167C138.203 37.4167 139.357 37 139.934 35.6667V37.25H142.459V21.75H139.718V27.3333C139.141 26.25 137.987 25.75 136.977 25.75C134.092 25.75 132.721 28.4167 132.721 31.3333C132.793 34.5 134.164 37.4167 137.049 37.4167ZM137.626 28C139.357 28 139.934 29.75 139.934 31.5833C139.934 33.4167 139.357 35.1667 137.626 35.1667C136.111 35.1667 135.318 33.4167 135.318 31.5833C135.318 29.8333 135.895 28 137.626 28ZM108.125 37.25H111.226L114.328 26H111.803L109.639 33.5833L107.692 26H104.807L108.125 37.25ZM98.2426 37.25H101.128V31.1667L105.961 21.75H102.643L99.541 27.8333L96.4393 21.75H93.1213L98.1705 31.1667V37.25H98.2426ZM119.954 37.4167C122.118 37.4167 123.633 36.3333 124.426 33.5833H122.118C121.902 34.25 121.18 35.1667 119.954 35.1667C118.584 35.1667 117.79 34.25 117.646 32.25H124.643C124.859 28.9167 123.272 25.75 119.954 25.75C117.069 25.75 115.121 28.25 115.121 31.5833C115.121 34.9167 116.852 37.4167 119.954 37.4167ZM119.954 28C121.108 28 121.685 28.9167 121.902 30.5H117.646C117.646 29.5833 118.223 28 119.954 28ZM0 61H264V0H0V61ZM83.0951 3.83333C78.9836 4.25 76.3148 6.5 71.6262 6.5C67.1541 6.5 64.4131 4.25 60.3738 3.83333H83.0951ZM56.4787 3.83333C52.3672 4.25 49.482 6.5 45.0098 6.5C40.5377 6.5 37.6525 4.25 33.541 3.83333H56.4787ZM29.718 3.83333C25.6066 4.25 22.9377 6.5 18.4656 6.5C13.777 6.5 11.1082 4.25 6.99672 3.83333H29.718ZM3.31803 57.1667V54.25C3.89508 54 4.47213 54 5.04918 54C9.7377 54 12.4066 56.5 16.6623 57.1667H3.31803ZM20.1967 57.1667C24.3082 56.5 27.1934 54 31.6656 54C36.3541 54 39.0229 56.5 43.2787 57.1667H20.1967ZM46.8131 57.1667C50.9246 56.5 53.8098 54 58.4262 54C62.8984 54 65.7836 56.5 69.8951 57.1667H46.8131ZM86.7738 57.1667H73.3574C77.6131 56.5 80.3541 54 85.0426 54C85.6197 54 86.1967 54 86.7738 54.25V57.1667ZM86.7738 47.3333H85.0426C79.777 47.3333 76.8918 50.5 71.6262 50.5C66.3607 50.5 63.6918 47.3333 58.4262 47.3333C53.1607 47.3333 50.2754 50.5 45.0098 50.5C39.7443 50.5 36.859 47.3333 31.5934 47.3333C26.3279 47.3333 23.659 50.5 18.3934 50.5C13.1279 50.5 10.2426 47.3333 4.97705 47.3333H3.31803V43.3333C3.89508 43.3333 4.47213 43.0833 5.04918 43.0833C10.3148 43.0833 13.2 46.25 18.4656 46.25C23.7311 46.25 26.4 43.0833 31.6656 43.0833C36.9311 43.0833 39.8164 46.25 45.082 46.25C50.3475 46.25 53.2328 43.0833 58.4984 43.0833C63.7639 43.0833 66.4328 46.25 71.6984 46.25C76.9639 46.25 79.8492 43.0833 85.1148 43.0833C85.6918 43.0833 86.2689 43.3333 86.8459 43.3333V47.3333H86.7738ZM86.7738 36.5C86.1967 36.25 85.6197 36.25 85.0426 36.25C79.777 36.25 76.8918 39.4167 71.6262 39.4167C66.3607 39.4167 63.6918 36.25 58.4262 36.25C53.1607 36.25 50.2754 39.4167 45.0098 39.4167C39.7443 39.4167 36.859 36.25 31.5934 36.25C26.3279 36.25 23.659 39.4167 18.3934 39.4167C13.1279 39.4167 10.2426 36.25 4.97705 36.25C4.4 36.25 3.82295 36.25 3.2459 36.5V32.25H5.04918C10.3148 32.25 13.2 35.1667 18.4656 35.1667C23.7311 35.1667 26.4 32.25 31.6656 32.25C36.9311 32.25 39.8164 35.1667 45.082 35.1667C50.3475 35.1667 53.2328 32.25 58.4984 32.25C63.7639 32.25 66.4328 35.1667 71.6984 35.1667C76.9639 35.1667 79.8492 32.25 85.1148 32.25H86.8459V36.5H86.7738ZM86.7738 25.5833C86.1967 25.3333 85.6197 25.3333 85.0426 25.3333C79.777 25.3333 76.8918 28.5 71.6262 28.5C66.3607 28.5 63.6918 25.3333 58.4262 25.3333C53.1607 25.3333 50.2754 28.5 45.0098 28.5C39.7443 28.5 36.859 25.3333 31.5934 25.3333C26.3279 25.3333 23.659 28.5 18.3934 28.5C13.1279 28.5 10.2426 25.3333 4.97705 25.3333C4.4 25.3333 3.82295 25.3333 3.2459 25.5833V21.5833C3.82295 21.3333 4.4 21.3333 4.97705 21.3333C10.2426 21.3333 13.1279 24.25 18.3934 24.25C23.659 24.25 26.3279 21.3333 31.5934 21.3333C36.859 21.3333 39.7443 24.25 45.0098 24.25C50.2754 24.25 53.1607 21.3333 58.4262 21.3333C63.6918 21.3333 66.3607 24.25 71.6262 24.25C76.8918 24.25 79.777 21.3333 85.0426 21.3333C85.6197 21.3333 86.1967 21.3333 86.7738 21.5833V25.5833ZM86.7738 14.5833H85.0426C79.777 14.5833 76.8918 17.5 71.6262 17.5C66.3607 17.5 63.6918 14.5833 58.4262 14.5833C53.1607 14.5833 50.2754 17.5 45.0098 17.5C39.7443 17.5 36.859 14.5833 31.5934 14.5833C26.3279 14.5833 23.659 17.5 18.3934 17.5C13.1279 17.5 10.2426 14.5833 4.97705 14.5833H3.31803V10.5833C3.89508 10.5833 4.47213 10.3333 5.04918 10.3333C10.3148 10.3333 13.2 13.25 18.4656 13.25C23.7311 13.25 26.4 10.3333 31.6656 10.3333C36.9311 10.3333 39.8164 13.25 45.082 13.25C50.3475 13.25 53.2328 10.3333 58.4984 10.3333C63.7639 10.3333 66.4328 13.25 71.6984 13.25C76.9639 13.25 79.8492 10.3333 85.1148 10.3333C85.6918 10.3333 86.2689 10.5833 86.8459 10.5833V14.5833H86.7738ZM90.0918 57.1667H260.754V3.83333H90.0918V57.1667ZM183.862 37.4167C186.026 37.4167 187.541 36.3333 188.334 33.5833H186.026C185.81 34.25 184.872 35.1667 183.862 35.1667C182.348 35.1667 181.554 34.25 181.554 32.25H188.551C188.767 28.9167 186.964 25.75 183.862 25.75C180.761 25.75 178.813 28.25 178.813 31.5833C178.813 34.9167 180.689 37.4167 183.862 37.4167ZM183.646 28C185.016 28 185.593 28.9167 185.81 30.5H181.554C181.482 29.5833 182.059 28 183.646 28ZM149.095 37.4167C152.197 37.4167 154.144 35.1667 154.144 31.5833C154.144 28 152.197 25.75 149.095 25.75C146.21 25.75 144.262 28 144.262 31.5833C144.262 35.1667 146.138 37.4167 149.095 37.4167ZM149.095 28C151.043 28 151.403 29.75 151.403 31.5833C151.403 33.4167 151.043 35.1667 149.095 35.1667C147.364 35.1667 146.787 33.4167 146.787 31.5833C146.715 29.8333 147.364 28 149.095 28ZM166.911 32.5H172.538V30H166.911V32.5ZM218.99 32.75C218.99 30.75 218.197 29.4167 216.682 28.75C217.62 28.3333 218.413 27.1667 218.413 25.5833C218.413 22.6667 216.682 21.75 214.157 21.75H207.954V37.25H214.374C216.61 37.25 218.99 35.8333 218.99 32.75ZM210.839 24.4167H213.58C214.518 24.4167 215.528 24.6667 215.528 26.1667C215.528 27.5 214.734 28 213.797 28H210.911V24.4167H210.839ZM210.839 34.5V30.25H213.941C215.311 30.25 216.105 30.9167 216.105 32.5C216.105 34.0833 215.167 34.5 213.941 34.5H210.839ZM199.948 32.5H205.574V30H199.948V32.5ZM174.485 37.25H177.226V21.75H174.485V37.25ZM194.105 35.4167C192.951 35.4167 191.941 35 191.941 33.6667H189.416C189.633 36.5833 191.725 37.5 194.105 37.5C196.269 37.5 198.361 36.5833 198.361 33.6667C198.361 31.6667 196.846 31 195.475 30.5C193.961 30.0833 192.374 29.8333 192.374 28.75C192.374 27.8333 193.311 27.8333 193.961 27.8333C194.898 27.8333 195.692 28.0833 195.692 29.4167H198.216C198 26.5 196.052 25.8333 193.961 25.8333C191.797 25.8333 189.705 26.5 189.705 29.4167C189.705 31.1667 191.292 31.9167 192.807 32.3333C194.754 32.75 195.908 33 195.908 34.0833C195.836 35 194.898 35.4167 194.105 35.4167ZM223.607 30.75C221.875 31 220.289 31.6667 220.289 34.0833C220.289 36.3333 221.659 37.4167 223.607 37.4167C224.761 37.4167 225.915 37 226.708 36.0833C226.708 36.5 226.925 36.75 226.925 37.1667H229.666C229.449 36.75 229.305 35.5833 229.305 34.6667V28.8333C229.305 26.1667 226.997 25.6667 225.193 25.6667C222.885 25.6667 220.721 26.5833 220.505 29.25H223.246C223.246 28.1667 224.039 27.6667 224.977 27.6667C225.915 27.6667 226.708 27.9167 226.708 29.25C226.708 30.5 225.193 30.5 223.607 30.75ZM226.708 32.9167C226.708 33.3333 226.492 35.4167 224.544 35.4167C223.607 35.4167 222.813 35.1667 222.813 34.0833C222.813 33 223.607 32.5 224.4 32.3333C225.338 32.3333 226.131 32.0833 226.708 31.6667V32.9167ZM238.754 31.4167C238.754 29.1667 239.331 28.0833 240.918 28.0833C242.072 28.0833 242.649 29.1667 242.649 31V37.25H245.174V30.3333C245.174 27.6667 244.597 25.8333 241.711 25.8333C240.557 25.8333 239.403 26.25 238.826 27.5833V26H236.302V37.25H238.826V31.4167H238.754ZM231.397 24.25H234.138V21.75H231.397V24.25ZM231.397 37.25H234.138V26H231.397V37.25ZM158.616 31.4167C158.616 29.1667 159.193 28.0833 160.564 28.0833C161.718 28.0833 162.295 29.1667 162.295 31V37.25H164.82V30.3333C164.82 27.6667 164.243 25.8333 161.357 25.8333C160.348 25.8333 159.193 26.25 158.472 27.5833V26H155.948V37.25H158.689V31.4167H158.616ZM251.377 35.4167C250.223 35.4167 249.213 35 249.213 33.6667H246.689C246.905 36.5833 248.997 37.5 251.161 37.5C253.469 37.5 255.633 36.5833 255.633 33.6667C255.633 31.6667 254.046 31 252.531 30.5C251.161 30.0833 249.646 29.8333 249.646 28.75C249.646 27.8333 250.439 27.8333 251.161 27.8333C251.954 27.8333 252.675 28.0833 252.892 29.4167H255.416C255.2 26.5 253.252 25.8333 251.161 25.8333C249.069 25.8333 246.905 26.5 246.905 29.4167C246.905 31.1667 248.42 31.9167 250.007 32.3333C251.954 32.75 253.108 33 253.108 34.0833C253.108 35 252.17 35.4167 251.377 35.4167Z"
                      fill="black"
                    />
                  </g>
                  <defs>
                    <clipPath id="clip0_651_1226">
                      <rect width="264" height="61" fill="white" />
                    </clipPath>
                  </defs>
                </svg>
              </a>
            </div>
          </div>
        </div>
      )}
    </>
  );
}
